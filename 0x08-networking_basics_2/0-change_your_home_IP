#!/usr/bin/env bash

# Create a backup of the original /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

# Copy the current hosts file to a temporary location
cp /etc/hosts ~/hosts.new

# Modify the localhost entry to resolve to 127.0.0.2
sed -i 's/^127.0.0.1.*/127.0.0.2 localhost/g' ~/hosts.new

# Add the facebook.com entry
echo "8.8.8.8 facebook.com" >> ~/hosts.new

# Replace the original /etc/hosts with the modified version
sudo cp -f ~/hosts.new /etc/hosts

# Optional: Remove the temporary hosts.new file
rm ~/hosts.new

echo "The /etc/hosts file has been updated successfully."

