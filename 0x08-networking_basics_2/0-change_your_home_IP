#!/usr/bin/env bash

# Backup the original /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

# Modify the /etc/hosts file
# Remove existing localhost entry and replace it with the new one
sudo sed -i.bak 's/^127\.0\.0\.1.*/127.0.0.2 localhost/' /etc/hosts

# Add the facebook.com entry
if ! grep -q "8.8.8.8 facebook.com" /etc/hosts; then
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
fi

# Output the updated /etc/hosts file for verification
echo "Updated /etc/hosts file:"
cat /etc/hosts

echo "The /etc/hosts file has been updated successfully."

